<% var paths = [{ name: 'Matches', url: 'matches' }]; %>
<% var partialData = { paths: paths }; %>

<%- partial('../partials/heading', { partialData: partialData}) %>

<a href="/matches/new" class="btn btn-default">Create a match</a>

<table class="table table-striped table-condensed">
    <thead>
        <tr>
            <th>#</th>
            <th>Team A</th>
            <th>Team B</th>
            <th>Kick-off</th>
            <th>Venue</th>
            <th>Importance</th>
            <th>Is ended?</th>
        </tr>
    </thead>
    <tbody>
        <% if(data.matches.length) { %>
            <% _.each(data.matches, function (match) { %>
            <tr>
                <td>
                    <a href="/matches/<%= match.id %>">
                        <%= abbreviate(match.id) %>
                    </a>
                </td>
                <td>
                    <a href="/teams/<%= match.teamA.id %>">
                        <%= match.teamA.name %>
                    </a>
                </td>
                <td>
                    <a href="/teams/<%= match.teamB.id %>">
                        <%= match.teamB.name %>
                    </a>
                </td>
                <td><%= printDate(match.kickOffAt) %></td>
                <td><%= match.venue %></td>
                <td><%= match.importance %></td>
                <td><%= printBoolean(match.isEnded) %></td>
            </tr>
            <% }); %>
        <% } else { %>
        <tr>
            <td colspan="7">No match for the moment</td>
        </tr>
        <% } %>
    </tbody>
</table>

<%- partial('../partials/footer') %>