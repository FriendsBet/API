<% var paths = [{ name: 'Memberships', url: 'memberships' }]; %>
<% var partialData = { paths: paths }; %>

<%- partial('../partials/heading', { partialData: partialData}) %>

<a href="/memberships/new" class="btn btn-default">Create a membership</a>

<table class="table table-striped table-condensed">
    <thead>
        <tr>
            <th>#</th>
            <th>User</th>
            <th>Group</th>
            <th>Is admin?</th>
        </tr>
    </thead>
    <tbody>
        <% if(data.memberships.length) { %>
            <% _.each(data.memberships, function (membership) { %>
            <tr>
                <td>
                    <a href="/memberships/<%= membership.id %>">
                        <%= abbreviate(membership.id) %>
                    </a>
                </td>
                <td>
                    <a href="/users/<%= membership.user.id %>">
                        <%= membership.user.name() %>
                    </a>
                </td>
                <td>
                    <a href="/groups/<%= membership.group.id %>">
                        <%= membership.group.name %>
                    </a>
                </td>
                <td><%= printBoolean(membership.isAdmin) %></td>
            </tr>
            <% }); %>
        <% } else { %>
        <tr>
            <td colspan="4">No membership for the moment</td>
        </tr>
        <% } %>
    </tbody>
</table>

<%- partial('../partials/footer') %>