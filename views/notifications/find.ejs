<% var paths = [{ name: 'Notifications', url: 'notifications' }]; %>
<% var partialData = { paths: paths }; %>

<%- partial('../partials/heading', { partialData: partialData}) %>

<a href="/notifications/new" class="btn btn-default">Create a notification</a>

<table class="table table-striped table-condensed">
    <thead>
        <tr>
            <th>#</th>
            <th>User</th>
            <th>Type</th>
            <th>Description</th>
            <th>Is read?</th>
        </tr>
    </thead>
    <tbody>
        <% if(data.notifications.length) { %>
            <% _.each(data.notifications, function (notification) { %>
            <tr>
                <td>
                    <a href="/notifications/<%= notification.id %>">
                        <%= abbreviate(notification.id) %>
                    </a>
                </td>
                <td>
                    <a href="/users/<%= notification.user.id %>">
                        <%= notification.user.name() %>
                    </a>
                </td>
                <td><%= notification.type %></td>
                <td><%= notification.description %></td>
                <td><%= printBoolean(notification.isRead) %></td>
            </tr>
            <% }); %>
        <% } else { %>
        <tr>
            <td colspan="5">No notification for the moment</td>
        </tr>
        <% } %>
    </tbody>
</table>

<%- partial('../partials/footer') %>